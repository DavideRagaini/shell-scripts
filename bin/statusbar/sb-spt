#!/usr/bin/env python3

import dbus

bus = dbus.SessionBus()
player = bus.get_object('org.mpris.MediaPlayer2.spotifyd', '/org/mpris/MediaPlayer2')
iface = dbus.Interface(player, dbus_interface='org.freedesktop.DBus.Properties')
status = iface.Get('org.mpris.MediaPlayer2.Player', 'PlaybackStatus')
if status == 'Playing':
    info = iface.Get('org.mpris.MediaPlayer2.Player', 'Metadata')
    print("[ %.28s ﴁ %.28s  %s° %.28s]" %
          (str(info['xesam:title']),
          str(info['xesam:artist'][0]),
          str(info['xesam:trackNumber']),
          str(info['xesam:album'])))
