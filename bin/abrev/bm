#!/usr/bin/env sh

case "$1" in
    s|save)
        content="$(xclip -selection clipboard -o)"
        echo "Enter Title"
        read -r title
        echo "$content $title" >>"$HOME/.config/qutebrowser/bookmarks/urls"
        ;;
    o|open|*)
        bookmark_file="$HOME/.config/qutebrowser/bookmarks/urls"
        description="$(cut -d' ' -f2- "$bookmark_file" | fzf)" || exit
        link="$(grep "$description" "$bookmark_file" | cut -d ' ' -f1)"
        setsid -f "$BROWSER" "$link" &
        ;;
esac
